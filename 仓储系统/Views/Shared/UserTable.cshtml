@using 仓储系统.ViewModels
@model 仓储系统.ViewModels.UserListViewModel


<h3 class="text-center">员工信息</h3>
<div class="container">
    <div class="row">
        <table border="1" class="table table-bordered">
            <tr>
                <th scope="col">员工编号</th>
                <th scope="col">员工姓名</th>
                <th scope="col">员工密码</th>
                <th scope="col">员工职务</th>
                <th scope="col">员工部门</th>
                <th scope="col">出生日期</th>
                <th scope="col">联系电话</th>
                <th scope="col">员工等级</th>
                <th scope="col">密码提示</th>
                <th scope="col">员工性别</th>
                <th scope="col" colspan="2">操作</th>
            </tr>
            @foreach (UserViewModel item in Model.users)
            {
                <tr>
                    <td>@item.user.U_Id</td>
                    <td>@item.user.U_name</td>
                    <td>@item.user.U_password</td>
                    <td>@item.user.U_post</td>
                    <td>@item.user.U_department</td>
                    <td>@item.user.U_birthday.ToString("yyyy-MM-dd")</td>
                    <td>@item.user.U_phone</td>
                    <td>@item.user.U_level</td>
                    <td>@item.user.U_point</td>
                    <td>@item.user.U_sex</td>
                    <td>
                        <a href="#s_@item.user.Id" data-toggle="modal" name="">查看</a>
                        <a href="#u_@item.user.Id" data-toggle="modal" name="">修改</a>
                        <a href="#d_@item.user.Id" data-toggle="modal" name="">删除</a>
                        <div class="modal fade" id="s_@item.user.Id" tabindex="-1" role="dialog" aria-hidden="true">
                            @{
                                Html.RenderPartial("DisplayUser", item.user);
                            }
                        </div>
                        <div class="modal fade" id="u_@item.user.Id" tabindex="-1" role="dialog" aria-hidden="true">
                            @{
                                Html.RenderPartial("UpdataStaff", new CreateUserViewModel() { user = item.user });
                            }
                        </div>
                        <div class="modal fade" id="d_@item.user.Id" tabindex="-1" role="dialog" aria-hidden="true">
                            @{
                                Html.RenderPartial("DeleteItem", new DeleteViewModel() { D_id = item.user.U_Id.ToString(), D_name = item.user.U_name, T_name = "用户" });
                            }
                        </div>
                    </td>
                </tr>
            }
        </table>
    </div>
</div>
